{% extends 'base.html.twig' %}

{% block title %}
  Band
{% endblock %}

{% block body %}
  <h1>
    Band
  </h1>

  <table class="table">
    <tbody>
      <tr>
        <th>
          Id
        </th>
        <td>
          {{ band.id }}
        </td>
      </tr>
      <tr>
        <th>
          Nom
        </th>
        <td>
          {{ band.name }}
        </td>
      </tr>
      <tr>
        <th>
          Membres
        </th>
        <td>
          <ul class="list-group list-group-flush">
            {% for member in band.members %}
              <li class="list-group-item">
                <a href="{{
                  path(
                    'member_show',
                    {
                      id: member.id
                    }
                  )
                  }}">
                  {{ member.name }}
                </a>
              </li>
            {% else %}
              <li class="list-group-item">Aucun membre</li>
            {% endfor %}
          </ul>
        </td>
      </tr>
      <tr>
        <th>
          Picture
        </th>
        <td>
          <img class="w-25"
            src="{{ asset(band.picture.url) }}"
            alt="{{ band.picture.alternativeName }}" />
        </td>
      </tr>
      <tr>
        <th>
          Prochains concerts
        </th>
        <td>
          <ul class="list-group list-group-flush">
            {% for concert in concertsComing %}
              <li class="list-group-item">
                <a href="{{
                  path(
                    'show_concert',
                    {
                      id: concert.id
                    }
                  )
                  }}">
                  {{ concert.name }}
                </a>
              </li>
            {% else %}
              <li class="list-group-item">Aucun prochain concert</li>
            {% endfor %}
          </ul>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="d-flex">
    <a href="{{ path('band_index') }}" class="btn btn-outline-warning mr-5">
      < Retourner Ã  la liste
    </a>
    {% if is_granted('ROLE_ADMIN') %}
      <a href="{{
        path(
          'band_edit',
          {
            id: band.id
          }
        )
        }}"
        class="btn btn-info mr-5">
        Modifier
      </a>

      {{ include('band/_delete_form.html.twig') }}
    {% endif %}
    {% if is_granted('ROLE_USER') %}
      {% if isFavorite %}
        {{
          include(
            'user/_delete_favorite.html.twig',
            {
              type: 'band',
              object: band
            }
          )
        }}
      {% else %}
        {{
          include(
            'user/_add_favorite.html.twig',
            {
              type: 'band',
              object: band
            }
          )
        }}
      {% endif %}
    {% endif %}
  </div>
{% endblock %}
