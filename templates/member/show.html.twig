{% extends 'base.html.twig' %}

{% block title %}
  Member
{% endblock %}

{% block body %}
  <h1>
    Member
  </h1>

  <table class="table">
    <tbody>
      <tr>
        <th>
          Id
        </th>
        <td>
          {{ member.id }}
        </td>
      </tr>
      <tr>
        <th>
          Name
        </th>
        <td>
          {{ member.name }}
        </td>
      </tr>
      <tr>
        <th>
          Concerts
        </th>
        <td>
          <ul class="list-group list-group-flush">
            {% for concert in member.concerts %}
              <li class="list-group-item">
                <a href="{{
                  path(
                    'show_concert',
                    {
                      id: concert.id
                    }
                  )
                  }}">
                  {{ concert.name }}
                </a>
              </li>
            {% else %}
              <li class="list-group-item">Aucun concert</li>
            {% endfor %}
          </ul>
        </td>
      </tr>
      <tr>
        <th>
          Groupe
        </th>
        <td>
          <a href="{{
            path(
              'band_show',
              {
                id: member.band.id
              }
            )
            }}">
            {{ member.band.name }}
          </a>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="d-flex">
    <a href="{{ path('member_index') }}" class="btn btn-outline-warning mr-5">
      < Retourner Ã  la liste
    </a>
    {% if is_granted('ROLE_ADMIN') %}
      <a href="{{
        path(
          'member_edit',
          {
            id: member.id
          }
        )
        }}"
        class="btn btn-info mr-5">
        Modifier
      </a>

      {{ include('member/_delete_form.html.twig') }}
    {% endif %}
    {% if is_granted('ROLE_USER') %}
      {% if isFavorite %}
        {{
          include(
            'user/_delete_favorite.html.twig',
            {
              type: 'member',
              object: member
            }
          )
        }}
      {% else %}
        {{
          include(
            'user/_add_favorite.html.twig',
            {
              type: 'member',
              object: member
            }
          )
        }}
      {% endif %}
    {% endif %}
  </div>
{% endblock %}
